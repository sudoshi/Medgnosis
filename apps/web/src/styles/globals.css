/* =============================================================================
   Medgnosis Web — Global Styles
   Design System: "Clinical Obsidian" — v2.0
   ============================================================================= */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base Layer ──────────────────────────────────────────────────────────── */
@layer base {
  :root {
    color-scheme: dark;

    /* Spatial tokens */
    --padding-page:    1.5rem;     /* outer page padding */
    --padding-panel:   1.25rem;    /* inside panels/cards */
    --padding-compact: 0.75rem;    /* tight inner padding */
    --radius-panel:    12px;
    --radius-card:     8px;
    --radius-pill:     999px;
    --radius-btn:      6px;
    --radius-input:    6px;

    /* Timing */
    --duration-fast:   150ms;
    --duration-std:    200ms;
    --duration-slow:   350ms;
    --ease-std:        cubic-bezier(0.4, 0, 0.2, 1);
    --ease-out:        cubic-bezier(0, 0, 0.2, 1);
    --ease-spring:     cubic-bezier(0.34, 1.56, 0.64, 1);

    /* Surface colors (referenced in JS/inline styles) */
    --color-void:    #060A14;
    --color-s0:      #0C1320;
    --color-s1:      #111B2E;
    --color-s2:      #172239;
    --color-edge:    #1E4478;
    --color-bright:  #EDF2FF;
    --color-dim:     #5E7FA3;
    --color-ghost:   #2D4060;
    --color-teal:    #0DD9D9;
    --color-amber:   #F5A623;
    --color-crimson: #E8394A;
    --color-emerald: #10C981;
    --color-violet:  #8B5CF6;
    --color-info:    #4B9EDB;
  }

  html {
    /* Fluid root font size: 17px at ≤1440px, scales to 21px at ≥1800px.
       Every rem-based Tailwind utility (text-xs, text-sm, etc.) scales
       automatically — no component changes needed.
       Formula: preferred = 1.1vw + 1.2px
         ~17px at 1440px (laptop) → ~21px at 1800px+ (desktop/large monitor) */
    font-size: clamp(17px, 1.1vw + 1.2px, 21px);
  }

  html,
  body {
    @apply bg-void text-bright font-ui;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Ambient top-center glow — adds depth to the otherwise flat void background */
  body {
    background-image: radial-gradient(
      ellipse 80% 45% at 50% -4%,
      rgba(13, 217, 217, 0.028) 0%,
      transparent 100%
    );
  }

  /* Headings use medium weight by default */
  h1, h2, h3, h4, h5, h6 {
    @apply font-ui font-semibold text-bright;
  }

  /* All numeric/code elements use data font */
  code, kbd, samp, pre {
    @apply font-data;
  }

  /* Focus ring — accessible, teal */
  :focus-visible {
    @apply outline-none ring-2 ring-teal ring-offset-2 ring-offset-void;
  }

  /* Selection color */
  ::selection {
    background: rgba(13, 217, 217, 0.2);
    color: #EDF2FF;
  }
}

/* ─── Component Layer ─────────────────────────────────────────────────────── */
@layer components {

  /* ══════════════════════════════════════════════════════════════════════════
     SURFACES — depth-layered dark panels
     ══════════════════════════════════════════════════════════════════════════ */

  .surface {
    @apply bg-s0 rounded-panel border border-edge/35;
    /* Micro-gradient overlay: simulates light catching the top-left edge */
    background-image: linear-gradient(
      150deg,
      rgba(255, 255, 255, 0.022) 0%,
      transparent 55%
    );
    box-shadow: 0 1px 3px rgba(0,0,0,0.5), 0 4px 20px rgba(0,0,0,0.4),
                inset 0 1px 0 rgba(255,255,255,0.05);
    padding: var(--padding-panel);
    transition: box-shadow var(--duration-std) var(--ease-std),
                border-color var(--duration-std) var(--ease-std);
  }

  .surface-raised {
    @apply bg-s1 rounded-panel border border-edge/35;
    background-image: linear-gradient(
      150deg,
      rgba(255, 255, 255, 0.018) 0%,
      transparent 55%
    );
    box-shadow: 0 1px 3px rgba(0,0,0,0.5), 0 4px 20px rgba(0,0,0,0.4),
                inset 0 1px 0 rgba(255,255,255,0.04);
    padding: var(--padding-panel);
  }

  .surface-hover {
    @apply transition-colors;
    transition-duration: var(--duration-fast);
  }
  .surface-hover:hover {
    @apply bg-s1;
  }

  .surface-interactive {
    @apply surface cursor-pointer;
    transition: box-shadow var(--duration-std) var(--ease-std),
                border-color var(--duration-std) var(--ease-std),
                transform var(--duration-fast) var(--ease-out);
  }
  .surface-interactive:hover {
    @apply border-edge/60;
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(0,0,0,0.6), 0 12px 40px rgba(0,0,0,0.5),
                inset 0 1px 0 rgba(255,255,255,0.07);
  }
  .surface-interactive:active {
    transform: translateY(0) scale(0.995);
  }

  .surface-selected {
    @apply border-teal/35 bg-teal/5;
  }

  /* Compact variant — less padding */
  .surface-compact {
    @apply surface;
    padding: var(--padding-compact);
  }

  /* ══════════════════════════════════════════════════════════════════════════
     LEGACY PANEL ALIASES — keep existing pages working during migration
     Remove in Phase 11 once all pages are rewritten.
     ══════════════════════════════════════════════════════════════════════════ */

  .panel-base {
    @apply surface;
  }

  .panel-stat {
    @apply surface;
  }

  .panel-analytics {
    @apply surface;
  }

  .panel-detail {
    @apply surface;
  }

  .panel-filter {
    @apply surface-compact;
  }

  .panel-list {
    @apply surface;
    @apply h-[400px] overflow-hidden;
  }

  .panel-interactive {
    @apply surface-hover;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     TYPOGRAPHY HELPERS
     ══════════════════════════════════════════════════════════════════════════ */

  /* UI text hierarchy */
  .text-primary   { @apply text-bright font-ui; }
  .text-secondary { @apply text-dim font-ui; }
  .text-muted     { @apply text-ghost font-ui; }

  /* Data/metric values — always Fira Code, tabular numbers */
  .data-value {
    @apply font-data text-bright;
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1;
  }

  /* Section/column labels */
  .data-label {
    @apply font-ui text-xs font-medium uppercase tracking-wider text-dim;
  }

  /* IDs, MRNs, codes, timestamps */
  .data-id {
    @apply font-data text-xs text-dim;
    font-variant-numeric: tabular-nums;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     STATUS BADGES
     ══════════════════════════════════════════════════════════════════════════ */

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-pill text-xs font-medium;
    @apply font-ui;
  }

  .badge-crimson { @apply badge bg-crimson/10 text-crimson border border-crimson/25; box-shadow: inset 0 1px 8px rgba(232, 57,  74,  0.12); }
  .badge-amber   { @apply badge bg-amber/10   text-amber   border border-amber/25;   box-shadow: inset 0 1px 8px rgba(245, 166, 35,  0.12); }
  .badge-teal    { @apply badge bg-teal/10    text-teal    border border-teal/25;     box-shadow: inset 0 1px 8px rgba(13,  217, 217, 0.14); }
  .badge-emerald { @apply badge bg-emerald/10 text-emerald border border-emerald/25; box-shadow: inset 0 1px 8px rgba(16,  201, 129, 0.12); }
  .badge-violet  { @apply badge bg-violet/10  text-violet  border border-violet/25;  box-shadow: inset 0 1px 8px rgba(139, 92,  246, 0.12); }
  .badge-dim     { @apply badge bg-s2         text-dim     border border-edge/35; }
  /* Clinical informational blue — neutral/non-urgent per IEC 60446 */
  .badge-info    { @apply badge bg-info/10    text-info    border border-info/25;    box-shadow: inset 0 1px 8px rgba(75,  158, 219, 0.12); }
  /* Caution: medium-severity (below amber/high, above dim/low) — muted amber */
  .badge-caution { @apply badge bg-amber/5    text-amber   border border-amber/15;  opacity: 0.78; }

  /* ══════════════════════════════════════════════════════════════════════════
     BUTTONS
     ══════════════════════════════════════════════════════════════════════════ */

  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply font-ui font-medium text-sm;
    @apply rounded-btn px-4 py-2;
    @apply transition-all;
    transition-duration: var(--duration-fast);
    transition-timing-function: var(--ease-std);
  }

  /* Primary — teal filled */
  .btn-primary {
    @apply btn bg-teal text-void;
    transition: background-color var(--duration-fast) var(--ease-std),
                box-shadow       var(--duration-fast) var(--ease-std),
                transform        var(--duration-fast) var(--ease-out);
  }
  .btn-primary:hover {
    @apply bg-teal-dark;
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(13, 217, 217, 0.4), 0 2px 6px rgba(0,0,0,0.3);
  }
  .btn-primary:active {
    transform: translateY(0) scale(0.97);
    box-shadow: none;
  }

  /* Secondary — s1 surface with border */
  .btn-secondary {
    @apply btn bg-s1 text-bright border border-edge/50;
    transition: background-color var(--duration-fast) var(--ease-std),
                border-color     var(--duration-fast) var(--ease-std),
                transform        var(--duration-fast) var(--ease-out);
  }
  .btn-secondary:hover {
    @apply bg-s2 border-edge/80;
    transform: translateY(-1px);
  }
  .btn-secondary:active {
    transform: translateY(0) scale(0.98);
  }

  /* Ghost — transparent, text only */
  .btn-ghost {
    @apply btn bg-transparent text-dim;
  }
  .btn-ghost:hover {
    @apply bg-s2 text-bright;
  }

  /* Danger — crimson */
  .btn-danger {
    @apply btn bg-crimson/10 text-crimson border border-crimson/25;
  }
  .btn-danger:hover {
    @apply bg-crimson/20;
    box-shadow: 0 4px 18px rgba(232, 57, 74, 0.25);
  }

  /* Icon button — square, no label */
  .btn-icon {
    @apply btn p-2 w-9 h-9;
  }

  /* Size modifiers */
  .btn-sm { @apply text-xs px-3 py-1.5 gap-1.5; }
  .btn-lg { @apply text-base px-5 py-2.5 gap-2.5; }

  /* Disabled state */
  .btn:disabled,
  .btn[aria-disabled="true"] {
    @apply opacity-40 cursor-not-allowed pointer-events-none;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     FORM ELEMENTS
     ══════════════════════════════════════════════════════════════════════════ */

  .input-field {
    @apply w-full bg-s0 border border-edge/50 rounded-input;
    @apply text-bright font-ui text-sm;
    @apply px-3 py-2.5;
    @apply placeholder:text-ghost;
    @apply transition-colors;
    transition-duration: var(--duration-fast);
  }
  .input-field:focus {
    @apply outline-none border-teal/70;
    box-shadow: 0 0 0 3px rgba(13, 217, 217, 0.16),
                0 0 12px rgba(13, 217, 217, 0.08);
  }

  .select-field {
    @apply input-field;
    @apply appearance-none pr-8;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%235E7FA3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     PROGRESS BARS
     ══════════════════════════════════════════════════════════════════════════ */

  .progress-track {
    @apply h-1.5 rounded-pill bg-s2 overflow-hidden;
  }

  .progress-bar {
    @apply h-full rounded-pill;
    animation: barFill 0.8s cubic-bezier(0.4,0,0.2,1) both;
    animation-delay: var(--bar-delay, 0ms);
    width: var(--bar-width, 0%);
  }

  /* Gradient fills give bars a sense of luminosity and depth */
  .progress-teal    { @apply progress-bar; background: linear-gradient(90deg, #0BB5B5, #0DD9D9 60%, #6EF0F0); }
  .progress-amber   { @apply progress-bar; background: linear-gradient(90deg, #D4891E, #F5A623 60%, #F9C168); }
  .progress-crimson { @apply progress-bar; background: linear-gradient(90deg, #C42A3A, #E8394A 60%, #F07878); }
  .progress-emerald { @apply progress-bar; background: linear-gradient(90deg, #0DA86A, #10C981 60%, #52DBA5); }
  .progress-violet  { @apply progress-bar; background: linear-gradient(90deg, #7C3AED, #8B5CF6 60%, #B595FA); }
  .progress-dim     { @apply progress-bar bg-dim; }

  /* Tall variant for dashboards */
  .progress-track-md { @apply progress-track h-2.5; }
  .progress-track-lg { @apply progress-track h-4; }

  /* ══════════════════════════════════════════════════════════════════════════
     TIMELINE
     ══════════════════════════════════════════════════════════════════════════ */

  .timeline-container {
    @apply relative;
  }

  /* The vertical connecting spine */
  .timeline-spine {
    @apply absolute left-[7px] top-4 bottom-0;
    width: 1px;
    background: linear-gradient(to bottom, rgba(30,68,120,0.6) 0%, rgba(30,68,120,0.1) 100%);
  }

  .timeline-item {
    @apply relative pl-8 pb-6 animate-fade-up;
  }
  .timeline-item:last-child { @apply pb-0; }
  .timeline-item:last-child .timeline-spine { display: none; }

  /* Node sits on the spine */
  .timeline-node {
    @apply absolute left-0 top-1 flex items-center justify-center;
    @apply w-4 h-4 rounded-full border-2;
  }

  .timeline-node-encounter  { @apply bg-teal/15    border-teal/60; }
  .timeline-node-observation { @apply bg-emerald/15 border-emerald/60; }
  .timeline-node-condition   { @apply bg-amber/15   border-amber/60; }
  .timeline-node-gap         { @apply bg-crimson/15 border-crimson/60; }

  .timeline-date {
    @apply font-data text-data-xs text-dim;
    font-variant-numeric: tabular-nums;
  }

  .timeline-group-header {
    @apply data-label py-2 mb-2 border-b border-edge/25;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     SKELETON LOADERS
     ══════════════════════════════════════════════════════════════════════════ */

  .skeleton {
    @apply rounded-card;
    /* High-contrast shimmer: base → navy → subtle teal flash → navy → base */
    background: linear-gradient(
      90deg,
      rgba(17, 27,  46,  1)    0%,
      rgba(30, 68,  120, 0.6)  35%,
      rgba(13, 217, 217, 0.08) 50%,
      rgba(30, 68,  120, 0.6)  65%,
      rgba(17, 27,  46,  1)    100%
    );
    background-size: 300% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full;
  }

  .skeleton-text-sm {
    @apply skeleton h-3 w-3/4;
  }

  .skeleton-circle {
    @apply skeleton rounded-full;
  }

  .skeleton-btn {
    @apply skeleton h-9 w-24 rounded-btn;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     MODAL / OVERLAY
     ══════════════════════════════════════════════════════════════════════════ */

  .overlay-backdrop {
    @apply fixed inset-0 z-40;
    background: rgba(6, 10, 20, 0.85);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  .command-panel {
    @apply bg-s0 border border-teal/25 rounded-panel overflow-hidden;
    box-shadow: 0 0 0 1px rgba(13,217,217,0.08),
                0 24px 64px rgba(0,0,0,0.7),
                0 0 40px rgba(13,217,217,0.08);
  }

  /* Legacy modal classes — keep for unmigrated components */
  .modal-backdrop {
    @apply overlay-backdrop;
  }

  .modal-container {
    @apply command-panel;
    padding: var(--padding-panel);
  }

  .modal-content {
    animation: fadeIn 0.25s ease-out both;
  }

  .modal-animate {
    animation: fadeIn 0.25s ease-out both;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     STATS STRIP — horizontal stat bar used across Dashboard/Patients/Care Lists
     ══════════════════════════════════════════════════════════════════════════ */

  .stats-strip {
    @apply surface grid;
    padding: var(--padding-compact) var(--padding-panel);
    gap: 0;
  }

  .stats-strip-cell {
    @apply px-6 py-2 border-r border-edge/25 last:border-r-0;
  }

  .stats-strip-value {
    @apply data-value text-data-lg;
  }

  .stats-strip-label {
    @apply data-label text-xs mt-0.5;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     PATIENT AVATAR
     ══════════════════════════════════════════════════════════════════════════ */

  .patient-avatar {
    @apply flex-shrink-0 flex items-center justify-center rounded-full font-ui font-semibold;
    font-variant-numeric: tabular-nums;
  }

  .patient-avatar-sm  { @apply patient-avatar w-8  h-8  text-xs; }
  .patient-avatar-md  { @apply patient-avatar w-10 h-10 text-sm; }
  .patient-avatar-lg  { @apply patient-avatar w-12 h-12 text-base; }
  .patient-avatar-xl  { @apply patient-avatar w-16 h-16 text-xl; }

  /* ══════════════════════════════════════════════════════════════════════════
     TABLE
     ══════════════════════════════════════════════════════════════════════════ */

  .data-table {
    @apply w-full;
  }

  .data-table thead {
    @apply sticky top-0 bg-s0 z-10;
  }

  .data-table th {
    @apply data-label px-4 py-3 text-left border-b border-edge/40;
  }

  .data-table tbody tr {
    @apply border-b border-edge/20;
    @apply transition-colors;
    transition-duration: var(--duration-fast);
  }

  .data-table tbody tr:hover {
    @apply bg-s1;
  }

  /* Row risk accent — apply teal left border on hover */
  .data-table tbody tr:hover td:first-child {
    box-shadow: inset 3px 0 0 #0DD9D9;
  }

  .data-table td {
    @apply px-4 py-3.5 text-sm text-bright;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     NAVIGATION (sidebar) — used by AppShell
     ══════════════════════════════════════════════════════════════════════════ */

  .nav-item {
    @apply relative flex items-center gap-3 rounded-card text-dim;
    @apply transition-colors;
    transition-duration: var(--duration-fast);
    padding: 0.625rem 0.75rem;
  }

  .nav-item:hover {
    @apply bg-s2 text-bright;
  }

  .nav-item-active {
    /* Directional gradient: teal glow bleeds from the left accent inward */
    background: linear-gradient(90deg, rgba(13,217,217,0.14) 0%, rgba(13,217,217,0.03) 70%, transparent 100%);
    @apply text-teal;
    box-shadow: inset 3px 0 0 #0DD9D9;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     LIVE INDICATOR — pulsing dot for WebSocket connection
     ══════════════════════════════════════════════════════════════════════════ */

  .live-dot {
    @apply inline-block w-2 h-2 rounded-full bg-emerald;
    position: relative;
    animation: pulseDot 2.2s ease-in-out infinite;
  }
  /* Expanding ring that fades out — reinforces the "live broadcast" metaphor */
  .live-dot::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    border: 1.5px solid rgba(16, 201, 129, 0.5);
    animation: liveDotRing 2.2s ease-in-out infinite;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     DIVIDERS
     ══════════════════════════════════════════════════════════════════════════ */

  .divider {
    /* Fade-to-transparent edges — softer than a hard 1px rule */
    height: 1px;
    border: none;
    background: linear-gradient(
      90deg,
      transparent              0%,
      rgba(30, 68, 120, 0.45) 15%,
      rgba(30, 68, 120, 0.45) 85%,
      transparent             100%
    );
  }

  .divider-label {
    @apply relative flex items-center gap-3 text-xs text-dim my-4;
  }

  .divider-label::before,
  .divider-label::after {
    content: '';
    @apply flex-1 border-t border-edge/30;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     SCROLLBAR — ultra-thin, near-invisible
     ══════════════════════════════════════════════════════════════════════════ */

  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgba(30, 68, 120, 0.5) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(30, 68, 120, 0.5);
    border-radius: 999px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(30, 68, 120, 0.8);
  }

  /* Hide scrollbar visually but keep functionality */
  .scrollbar-hidden {
    scrollbar-width: none;
  }
  .scrollbar-hidden::-webkit-scrollbar { display: none; }

  /* ══════════════════════════════════════════════════════════════════════════
     EMPTY STATE
     ══════════════════════════════════════════════════════════════════════════ */

  .empty-state {
    @apply flex flex-col items-center justify-center text-center py-16 px-6;
  }

  .empty-state-icon {
    @apply w-16 h-16 rounded-full flex items-center justify-center mb-4;
    @apply bg-s2 text-dim;
  }

  .empty-state-title {
    @apply text-base font-medium text-bright mb-1;
  }

  .empty-state-desc {
    @apply text-sm text-dim max-w-sm;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     RISK GAUGE — SVG arc used in Patient Detail / Measures
     ══════════════════════════════════════════════════════════════════════════ */

  .gauge-track {
    fill: none;
    stroke: #172239;
    stroke-width: 8;
    stroke-linecap: round;
  }

  .gauge-fill {
    fill: none;
    stroke-width: 8;
    stroke-linecap: round;
    animation: gaugeFill 1s cubic-bezier(0.4,0,0.2,1) both;
    animation-delay: var(--gauge-delay, 100ms);
  }

  /* ══════════════════════════════════════════════════════════════════════════
     LOGIN PAGE — animated background mesh
     ══════════════════════════════════════════════════════════════════════════ */

  .login-mesh-blob {
    @apply absolute rounded-full;
    @apply pointer-events-none;
    filter: blur(80px);
    animation: meshDrift 28s ease-in-out infinite alternate;
  }

  .login-mesh-blob:nth-child(2) {
    animation-delay: -9s;
    animation-direction: alternate-reverse;
  }

  .login-mesh-blob:nth-child(3) {
    animation-delay: -18s;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     ALERT SEVERITY ACCENTS
     ══════════════════════════════════════════════════════════════════════════ */

  .alert-critical {
    @apply border-l-4 border-l-crimson;
    background: rgba(232, 57, 74, 0.06);
    box-shadow: -4px 0 20px rgba(232, 57, 74, 0.12);
  }

  .alert-high {
    @apply border-l-4 border-l-amber;
    background: rgba(245, 166, 35, 0.05);
  }

  .alert-medium {
    @apply border-l-2 border-l-amber/60;
  }

  .alert-low,
  .alert-info {
    @apply border-l-2 border-l-teal/40;
  }

  /* ══════════════════════════════════════════════════════════════════════════
     STAGGER UTILITIES — animation delay helpers
     ══════════════════════════════════════════════════════════════════════════ */

  .stagger-1 { animation-delay:  50ms; }
  .stagger-2 { animation-delay: 100ms; }
  .stagger-3 { animation-delay: 150ms; }
  .stagger-4 { animation-delay: 200ms; }
  .stagger-5 { animation-delay: 250ms; }
  .stagger-6 { animation-delay: 300ms; }
  .stagger-7 { animation-delay: 350ms; }
  .stagger-8 { animation-delay: 400ms; }

}

/* ─── Utilities Layer (one-off helpers) ───────────────────────────────────── */
@layer utilities {
  .tabular-nums {
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* Prevent text overflow in table cells / list items */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ─── Additional Keyframes ────────────────────────────────────────────────── */

/* Live-dot ring expansion — radiates outward and fades */
@keyframes liveDotRing {
  0%   { transform: scale(1);   opacity: 0.5; }
  70%  { transform: scale(2.2); opacity: 0; }
  100% { transform: scale(2.2); opacity: 0; }
}

/* ─── Reduced Motion ──────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
